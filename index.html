<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <title>Document</title>
<style>
    span{
     color: red;
    }
</style>
</head>
<body style="background-color:rgb(235, 235, 235)">

    <h2>signup</h2>

    <form action="success.html" class="container mt-5  bg-white p-5 rounded-5 shadow-lg">
    <div>
        <label for="username">Username: <input class="form-control" type="text" id="username" onkeyup="validateName()"></label>
        <span id="username-error"></span>
    </div>
   <p></p>

    <div>
        <label for="email">Email: <input class="form-control" type="text" id="email" onkeyup="validateEmail()"></label>
        <span id="email-error"></span>
    </div>
    <p></p>

    <div>
        <label for="password">Password: <input class="form-control" type="text" id="password" onkeyup="validatePassword()"></label>
        <span id="password-error"></span>
    </div>
    <p></p>

    <div>
        <label for="repeat">Repeat password: <input class="form-control" type="text" id="repeat" onkeyup="validateRepeat()"></label>
        <span id="repeat-error"></span>
    </div>
    <button type="submit" class="btn btn-primary mt-3" id="submit" onclick="return validateForm()">Submit</button>
    <span id="submit-error"></span>
</form>
   
<script>

function validateName(){
    let nameError = document.getElementById("username-error")
    let name = document.getElementById("username")

    if(name.value.trim() == ""){
        nameError.innerText = "Username cannot be blank"
        return false
    }else if(name.value.length < 5){
        nameError.innerText = "Username must not be less than 5 charecters"

        return false
    }
    else{
        nameError.innerText = " "

        return true
    }
}


function validateEmail(){
    let emailError = document.getElementById("email-error");
    let email = document.getElementById("email");

    let regEx = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g;

    if(email.value.trim() == ""){
        emailError.innerText = "Email canot be blank";

        return false
    } else if(!email.value.match(regEx)){
        emailError.innerText = "Email not in global format";

        return false
    }
    else{
         emailError.innerText = " ";

         return true
    }
}



function validatePassword(){
   let passwordError = document.getElementById("password-error");
   let password = document.getElementById("password");

if(password.value.trim() == ""){
    passwordError.innerText = "password cannot be blank!";

    return false
}else if(password.value.length < 6 || password.value.length >20){
       passwordError.innerText = "password length cannot be less than 6 charecters or morthan 20 charecters";
       return false
}

else{
    passwordError.innerText = ""
    return true
}

}


function validateRepeat(){
   let passwords = document.getElementById("password");
   let repeatPassword = document.getElementById("repeat");
   let repeatError = document.getElementById("repeat-error");


   if(passwords.value != repeatPassword.value){
       repeatError.innerText = "Password mismatch!"
       return false
   }else{
    repeatError.innerText = "";
    return true
   }

}


function validateForm(){
    let submitError = document.getElementById("submit-error");
    
    if(!validateName() || !validateEmail() || !validatePassword() || !validateRepeat){
        submitError.innerText = "Please resolve tha errors"
        return false
    }else{
        submitError.innerText = ""
        return true
    }
}
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

</body>
</html>